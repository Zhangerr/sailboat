# Compiling #
**Development is done on linux and that is the only platform we can guarantee sailboat will compile/run on.**

Note: perhaps compiling should be automated with autotools.

## Linux ##

As of now this project depends on [boost](http://www.boost.org); under debian based distributions like ubuntu you can run
```
sudo apt-get install libboost1.42-all-dev
```
to get it (tested on ubuntu 11.04) or from the [boost website](http://www.boost.org/). Since we use the regex library, you will need the binaries. This is also compiled with [g++](http://gcc.gnu.org/) using the following -
```
g++ -o sailboat *.cpp lua/*.cpp lua/lualib/*.c -DLUA_USE_LINUX -lboost_filesystem -lboost_system -lboost_regex -lreadline -ldl -lhistory
```

Note: if `-DLUA_USE_LINUX` is not defined `-lreadline -ldl -lhistory` is not required to be linked, however, it leads to a warning generated by the compiler upon compiling.

Note: the current working directory should be `sailboatsln`

Note: lua 5.2 is currently compiled as C++ code rather than C, we may just change this to a shared library in the future

Note: I'm still not sure why boost\_filesystem is necessary, the code makes no reference to it (probably another header does), but [this](http://stackoverflow.com/questions/3467153/is-there-an-intelligent-way-to-know-the-name-of-the-library-to-link-to-at-compil) link may provide some answers.

## Windows ##

I **have** compiled sailboat on windows before using Visual Studio 2010 and it ran fine; you'll need to first install the boost libraries by either compiling from source or getting pre-compiled binaries from [here](http://boostpro.com).

Then, following the directions from [here](http://www.boost.org/doc/libs/1_35_0/more/getting_started/windows.html) (specifically section 4.1 and 6.1) you'll need to create the project (make sure you disable pre-compiled headers), add the source files of sailboat; afterwards, add the boost headers path to 'Additional Include Directories' and library path to 'Additional Library Directories.' See the aforementioned link for specifics.

---


Excerpted section 4.1:
```
From Visual Studio's File menu, select New > Project…

In the left-hand pane of the resulting New Project dialog, select Visual C++ > Win32.

In the right-hand pane, select Win32 Console Application (VS8.0) or Win32 Console Project (VS7.1).

In the name field, enter “example”

Right-click example in the Solution Explorer pane and select Properties from the resulting pop-up menu

In Configuration Properties > C/C++ > General > Additional Include Directories, enter the path to the Boost root directory, for example

C:\Program Files\boost\boost_1_35_0

In Configuration Properties > C/C++ > Precompiled Headers, change Use Precompiled Header (/Yu) to Not Using Precompiled Headers.3

Replace the contents of the example.cpp generated by the IDE with the example code above.

From the Build menu, select Build Solution.
```
Excerpted section 6.1:
```
Right-click example in the Solution Explorer pane and select Properties from the resulting pop-up menu
In Configuration Properties > Linker > Additional Library Directories, enter the path to the Boost binaries, e.g. C:\Program Files\boost\boost_1_35_0\lib\.
From the Build menu, select Build Solution.
```

---

## Mac OS X ##
I'm pretty sure sailboat should work on mac (considering how boost and c++ are cross platform); however, I have no access to one and no desire to burn money either ;). So, if anyone would care to try compiling sailboat on mac it would be greatly appreciated.